<html><head><script src="https://unpkg.com/simpla@^3.0.0"></script><script src="https://unpkg.com/simpla@^3.0.0/adapters/netlify.js"></script><script src="https://unpkg.com/webcomponents.js@^0.7.24/webcomponents-lite.min.js" async=""></script><script>Simpla.init({repo:'syedzahed/test-simpla.git',auth:new SimplaNetlify({site:'eloquent-pasteur-f43bbc'}),source:'https://eloquent-pasteur-f43bbc.netlify.com'});</script></head><body><div hidden="" by-polymer-bundler=""><dom-module id="simpla-admin" assetpath="../bower_components/simpla-admin/"><template><style>:host{position:absolute;}:host([hidden]),[hidden]{display:none!important;}</style><simpla-admin-controls editable="[[_editable]]" authenticated="[[_authenticated]]" busy="{{busy}}" on-login="login" on-save="save" hidden$="[[_loginOpen]]"></simpla-admin-controls><simpla-login id="login" active="{{_loginOpen}}"></simpla-login><simpla-notify></simpla-notify></template><script>!function(){"use strict";function z(a){var b,c=Simpla.getState("buffer");if(b=c&&Object.keys(c).some(function(a){return c[a].modified}))return a.returnValue=v,v}function G(a){a.keyCode===y.edit&&a[w]&&(a.preventDefault(),Simpla.editable(!Simpla.getState("editable")))}function J(a){a.keyCode===y.save&&a[w]&&(a.preventDefault(),document.querySelector("simpla-admin").save())}function Q(a){var b=function b(){return!!document.body&&(document.body.appendChild(a),document.removeEventListener("readystatechange",b),!0)};b()||document.addEventListener("readystatechange",b)}function R(a){var b,c=document.querySelector("simpla-admin");a&&!c&&(b=document.createElement("simpla-admin"),Q(b))}function i(){var a=window.location.hash===A;Simpla.editable(a)}function a(a){window.location.hash=a?A:""}function n(a){a.path[0].localName&&"input"===a.path[0].localName||a.preventDefault(),a.stopPropagation()}function o(a){return a&&function(a){return 0===a.indexOf("simpla-")}(a)}function r(a){return!!o(a.localName)||a.getAttribute&&o(a.getAttribute("is"))}function c(a){var b=function(a){return N.includes(a)},c=function(a){return o(a)&&!b(a)};return!!c(a.localName)||c(a.getAttribute&&a.getAttribute("is"))}function l(a){return Array.prototype.filter.call(a,c)}function d(a){return Array.prototype.filter.call(a,r)}function f(a){return Array.prototype.filter.call(a,function(a){return t.has(a)})}function p(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";a.style.pointerEvents=b}function s(a){p(a,"auto")}function m(a){p(a,"none")}function h(a){p(a,"")}function b(a){t.set(a,0),s(a),j.forEach(function(b){a.addEventListener(b,n)})}function u(a){t.delete(a),h(a),j.forEach(function(b){a.removeEventListener(b,n)})}var g,t,q=function(a,b){return new Promise(function(c,d){b="number"==typeof b?b:20;(function f(){Promise.resolve().then(a).then(function(a){if("boolean"!=typeof a)throw new TypeError("Expected condition to return a boolean");!0===a?c():setTimeout(f,b)}).catch(d)})()})},e={properties:{loginPrompt:{type:Boolean,observer:"_toggleLoginPromptObserver"}},_toggleLoginPromptObserver:function(a){var b=this,c=this._simplaObservers,d=function(a){var c=b.$.login;a&&!b._authenticated&&(3===parseInt(Simpla.version)?Simpla.login():q(function(){return"function"==typeof c.prompt},1).then(function(){c.prompt().then(function(a){return Simpla.editable(a)})}))};return a?(d(Simpla.getState("editable")),void(c.login=Simpla.observeState("editable",d))):void(c.login&&c.login.unobserve())}},v="You have unsaved changes, are you sure you want to leave?",k={attached:function(){window.addEventListener("beforeunload",z)},detached:function(){window.removeEventListener("beforeunload",z)}},w="metaKey",y={edit:69,save:83},C={properties:{hotkeys:Boolean},observers:["_updateEditableListener(_authenticated, hotkeys)","_updateSaveListener(_editable, hotkeys)"],_updateEditableListener:function(a,b){a&&b?document.addEventListener("keydown",G):document.removeEventListener("keydown",G)},_updateSaveListener:function(a,b){a&&b?document.addEventListener("keydown",J):document.removeEventListener("keydown",J)},detached:function(){document.removeEventListener("keydown",G),document.removeEventListener("keydown",J)}},E={_simplaObservers:[],observe:function(){var a=this;q(function(){return!!window.Simpla},1).then(function(){var b=Simpla.getState(),c=b.editable,d=b.authenticated;R(c||d),a._simplaObservers=[Simpla.observeState("authenticated",R),Simpla.observeState("editable",R)]})},unobserve:function(){this._simplaObservers.forEach(function(a){return a.unobserve()}),this._simplaObservers=[]}},A="#edit",L={_simplaObserver:null,_tracking:!1,track:function(){var b=this;q(function(){return!!window.Simpla},1).then(function(){i(),b._tracking||(window.addEventListener("hashchange",i),a(Simpla.getState("editable")),b._simplaObserver=Simpla.observeState("editable",a),b._tracking=!0)})},untrack:function(){this._tracking&&(window.removeEventListener("hashchange",i),this._simplaObserver&&this._simplaObserver.unobserve(),this._simplaObserver=null,this._tracking=!1)}},B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},O=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},D=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),x=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},N=["simpla-admin","simpla-login","simpla-admin-controls","simpla-notify"],j=["click","ontouchend"];t=function(){var a;return void 0===B(window.Map)?(a=[],{has:function(b){return-1!==a.indexOf(b)},set:function(b){var c=a.indexOf(b);-1===c&&a.push(b)},delete:function(b){var c=a.indexOf(b);-1!==c&&a.splice(c,1)},forEach:function(b){a.forEach(function(a,c,d){return b.call(d,0,a,c)})}}):new Map}(),g=new MutationObserver(function(a){a.forEach(function(a){l(a.addedNodes).forEach(b),d(a.addedNodes).forEach(s),f(a.removedNodes).forEach(u)})});var H={enable:function(){t.forEach(function(a,b){return u(b)}),g.disconnect(),h(document.body)},disable:function(){var a=document.querySelectorAll("*");l(a).forEach(b),d(a).forEach(s),m(document.body),g.observe(document.body,{childList:!0,subtree:!0})}},I=["../simpla-login/simpla-login.html","../simpla-notify/simpla-notify.html","simpla-admin-controls.html"],M={saved:"changes saved",saveFailed:"something went wrong, try again?"};window.SimplaAdmin=x({},{hashTracking:!0,loginPrompt:!0,hotkeys:!0,protectEditing:!0},window.SimplaAdmin),E.observe(),window.SimplaAdmin.hashTracking&&L.track();var F=function(){function a(){O(this,a)}return D(a,[{key:"beforeRegister",value:function(){this.is="simpla-admin",this.properties={hashTracking:{type:Boolean,observer:"_updateHashTracking"},protectEditing:Boolean,hidden:{type:Boolean,reflectToAttribute:!0},busy:{type:Boolean,value:!1},_editable:Boolean,_authenticated:Boolean,_dependenciesImported:Boolean,_loginOpen:Boolean,_simplaObservers:{type:Object,value:{}}},this.observers=["_toggleHidden(_editable, _authenticated)","_disableEditable(busy)","_updatePointerEvents(protectEditing, _editable)"]}},{key:"ready",value:function(){x(this,window.SimplaAdmin),window.SimplaAdmin=this}},{key:"attached",value:function(){this._importDependencies(),this._syncEditableAndAuthenticated()}},{key:"detached",value:function(){var a=this;Object.keys(this._simplaObservers).forEach(function(b){a._simplaObservers[b].unobserve()}),this._simplaObservers={},L.untrack(),E.unobserve()}},{key:"_disableEditable",value:function(a){a&&Simpla.getState("editable")?(L.untrack(),Simpla.editable(!1),this.__busyDisabled=!0):!a&&this.__busyDisabled&&(Simpla.editable(!0),L.track(),this.__busyDisabled=!1)}},{key:"login",value:function(){3===parseInt(Simpla.version)?Simpla.login():this.$.login.open()}},{key:"save",value:function(){var a=this;this.busy=!0,Simpla.save().then(function(){a.busy=!1,a.fire("simpla-notification",{text:M.saved})}).catch(function(){a.busy=!1,a.fire("simpla-notification",{text:M.saveFailed})})}},{key:"_toggleHidden",value:function(a,b){this.hidden=!a&&!b}},{key:"_updateHashTracking",value:function(a){a?L.track():L.untrack()}},{key:"_updatePointerEvents",value:function(a,b){a&&b?H.disable():H.enable()}},{key:"_syncEditableAndAuthenticated",value:function(){var b=this,c=Simpla.getState(),d=c.editable,e=c.authenticated,f=function(a){return b._editable=a},g=function(a){return b._authenticated=a};f(d),g(e),this._simplaObservers.editable=Simpla.observeState("editable",f),this._simplaObservers.authenticated=Simpla.observeState("authenticated",g)}},{key:"_importDependencies",value:function(){var a=this;I.forEach(function(b){a.importHref(a.resolveUrl(b))})}},{key:"behaviors",get:function(){return[e,C,k]}}]),a}();Polymer(F)}();</script></dom-module><script>"use strict";function _defineProperty(b,c,d){return c in b?Object.defineProperty(b,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):b[c]=d,b}var _extends=Object.assign||function(b){for(var c,a=1;a<arguments.length;a++)for(var d in c=arguments[a],c)Object.prototype.hasOwnProperty.call(c,d)&&(b[d]=c[d]);return b},DEFAULT_CONFIG={getCallback:"_updateFromSimpla",setCallback:"_updateSimplaBuffer"},ERRORS={NO_SIMPLA:"Cannot find Simpla, ensure it is included before this component"};window.SimplaBehaviors=window.SimplaBehaviors||{},SimplaBehaviors.Element=function(b){var c=_extends({},DEFAULT_CONFIG,b),d=c.type,f=c.getCallback,g=c.setCallback,h=c.dataProperties;return{properties:{path:{type:String,observer:"_initPathIfReady"},editable:{type:Boolean,observer:"_disableEditableIfReadonly",notify:!0},readonly:{type:Boolean,observer:"_updateReadonly"},loaded:{type:Boolean,readOnly:!0,notify:!0,value:!1},__simplaObservers:{type:Object,value:function(){return{}}}},observers:h.map(function(a){return"_syncedPropertiesObserver("+a+".*)"}),created:function(){if(!window.Simpla)throw new Error(ERRORS.NO_SIMPLA)},attached:function(){this._attached=!0,this.editable=!this.readonly&&(this.editable||Simpla.getState("editable")),this._observeSimplaEditable(),this._initPathIfReady(this.path)},detached:function(){var a=this;Object.keys(this.__simplaObservers).forEach(function(b){a.__simplaObservers[b].unobserve()}),this.__simplaObservers={}},_initPathIfReady:function(a){this._attached&&void 0!==a&&this._initSimplaPath(a)},_updateReadonly:function(a){this.editable=!a&&Simpla.getState("editable")},_disableEditableIfReadonly:function(a){this.readonly&&a&&(this.editable=!1)},_initSimplaPath:function(b){var c=this;this._setLoaded(!1),Simpla.get(b).then(function(d){var a=!(d&&d.data),e=c.path!==b,f=Simpla.getState("buffer"),g=f&&f[b]&&!f[b].modified;e||(a&&g?c._protectedSetCallback():c._protectedGetCallback(d),c._setLoaded(!0))}),this._observeSimplaBuffer(b)},_observeSimplaBuffer:function(b){var c=this,d=this.__simplaObservers;b&&(d.buffer&&d.buffer.unobserve(),d.buffer=Simpla.observe(b,function(a){a&&a.data&&c._protectedGetCallback(a)}))},_updateSimplaBuffer:function(){var b=this;return h.reduce(function(c,d){return _extends(c,_defineProperty({},d,b[d]))},{})},_updateFromSimpla:function(a){_extends(this,a.data)},_protectedGetCallback:function(a){this.__loadingFromSimpla=!0,this[f](a),this.__loadingFromSimpla=!1},_protectedSetCallback:function(){if(!this.__loadingFromSimpla&&this._attached&&this.path){var b=this[g]();void 0===b&&null!==b||Simpla.set(this.path,{type:d,data:b})}},_syncedPropertiesObserver:function(){this.loaded&&this._protectedSetCallback()},_observeSimplaEditable:function(){var a=this,b=this.__simplaObservers;b.editable&&b.editable.unobserve(),b.editable=Simpla.observeState("editable",function(b){a.readonly||(a.editable=b)})}}};</script><dom-module id="simpla-text" assetpath="../bower_components/simpla-text/"><template><style>:host{display:block;}:host([contenteditable]){outline:0;}:host([inline]){display:inline;}</style><slot></slot></template><script>!function(){"use strict";var b=document.createElement("simpla-text-toolbar"),c=["simpla-text-toolbar.html","../simpla-richtext-behavior/simpla-richtext-behavior.html"],d=["bold","italic","underline","link"],e={observers:["_checkEditorPrepped(editable, inline)","_updateEditorEditable(editable)"],getEditor:function(){return this._editor},_importEditorDeps:function(){var a=this,b=[];return c.forEach(function(c){b.push(new Promise(function(b,d){a.importHref(a.resolveUrl(c),b,d)}))}),Promise.all(b)},loadEditor:function(){var a=this;return Promise.resolve(this._editor||this._createEditor()).then(function(b){return a._editor=b,b})},runCommand:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return this.loadEditor().then(function(c){return c.format(a,b)})},_createEditor:function(){var c=this;return this.__waitForEditor||(this.__waitForEditor=this._importEditorDeps().then(function(){var e,f,g,a=window.SimplaBehaviors.RichText;return e=new a(c,{inline:c.inline,placeholder:c.placeholder,plugins:c.plaintext?[]:d,editable:c.editable,typographer:!c.noTypographer}),f=function(d){var f=d.name,g=d.applied,h=d.meta;b.target===e&&(c._tools=c._tools||{},c._tools[f]={applied:g,meta:h},b.set?(b.set("tools."+f+".active",g),b.set("tools."+f+".meta",h)):(b.tools=b.tools||{},b.tools[f]={applied:g,meta:h}))},g=function(d){var f=d.empty,g=d.native,h=!f&&c.editable&&!c.plaintext;c.fire("select",{selection:g}),b.parentElement!==document.body&&document.body.appendChild(b),b.range=h&&g.rangeCount&&g.getRangeAt(0),c._tools&&(b.tools=c._tools),g&&(b.target=e)},e.on("plugin",f),e.on("select",g),e.on("input",function(){c.__waitForEditor.then(function(){return c.fire("input")})}),c.value&&c.value.trim()&&e.setHTML(c.value),e})),this.__waitForEditor},_updateEditorEditable:function(a){var b=this.getEditor();b&&(b.editable=a)},_checkEditorPrepped:function(a){a&&this.loadEditor()}},f=["h1","h2","h3","h4","h5","h6","p","li","dd","figcaption","mark","q","s","time","u","legend","option","b","big","i","small","tt","abbr","acronym","cite","pre","code","dfn","em","kbd","strong","samp","var","a","span","sub","sup","button","label"],g={properties:{inline:{type:Boolean,reflectToAttribute:!0}},attached:function(){this._autoSetMode()},_autoSetMode:function(){var a=this.parentElement&&this.parentElement.nodeName.toLowerCase();void 0===this.inline&&(this.inline=-1!==f.indexOf(a))}},h=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},a=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i={type:"Text",dataProperties:["value"],setCallback:"_setToSimpla",getCallback:"_getFromSimpla"},j=function(){function b(){h(this,b)}return a(b,[{key:"beforeRegister",value:function(){this.is="simpla-text",this.properties={plaintext:{type:Boolean,value:!1},placeholder:{type:String,value:"Enter your text..."},noTypographer:{type:Boolean,value:!1},active:{type:Boolean,notify:!0,readOnly:!0,value:!1},value:{type:String,observer:"_renderValue"}},this.listeners={tap:"_handleTap",blur:"_handleBlur",focus:"_handleFocus",input:"_refreshValue"}}},{key:"attached",value:function(){this._refreshValue()}},{key:"_handleBlur",value:function(){this._setActive(!1)}},{key:"_handleFocus",value:function(){this.editable&&this._setActive(!0)}},{key:"_handleTap",value:function(){this.editable&&this._setActive(!0)}},{key:"_editableObserver",value:function(a){a||this._setActive(!1)}},{key:"_refreshValue",value:function(){var a=this.getEditor();this.__refreshingValue=!0,this.value=a?a.getHTML():this.innerHTML,this.__refreshingValue=!1}},{key:"_renderValue",value:function(a){var b=this.getEditor();this.__refreshingValue||(b?b.setHTML(a):this.innerHTML=a)}},{key:"_getFromSimpla",value:function(a){a&&a.data&&this.value!==a.data.text&&(this.value=a.data.text)}},{key:"_setToSimpla",value:function(){return{text:this.value}}},{key:"behaviors",get:function(){return[SimplaBehaviors.Element(i),e,g]}}]),b}();Polymer(j)}();</script></dom-module><dom-module id="simpla-img" assetpath="../bower_components/simpla-img/"><script>!function(){"use strict";var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAACCAQAAAA3fa6RAAAADklEQVR42mNkAANGCAUAACMAA2w/AMgAAAAASUVORK5CYII=",a={width:180,height:130},d=function(a){return a&&0===a.indexOf("data:image")},f=function(a){return!/^https:\/\/storage.googleapis.*simpla/.test(a)},g=function(b){var c=new Image,a=document.createElement("canvas"),d=a.getContext("2d");return c.setAttribute("crossOrigin","anonymous"),new Promise(function(e,f){c.onload=function(){a.width=c.width,a.height=c.height,d.drawImage(c,0,0),e(a.toDataURL("image/png"))},c.onerror=f,c.src=b})},h=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},j=function(){function a(b,c){var d,a=[],f=!0,g=!1;try{for(var h,i=b[Symbol.iterator]();!(f=(h=i.next()).done)&&(a.push(h.value),!c||a.length!==c);f=!0);}catch(a){g=!0,d=a}finally{try{!f&&i.return&&i.return()}finally{if(g)throw d}}return a}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k={editable:{cursor:"pointer",outline:"none"},active:{visibility:"hidden",transition:"visibility",transitionDelay:"50ms"},placeholder:{minHeight:a.height+"px",minWidth:a.width+"px",backgroundSize:"cover",backgroundPosition:"center center",opacity:"0.75"}},c={is:"simpla-img",extends:"img",properties:{src:{type:String,reflectToAttribute:!0,value:function(){return b},notify:!0},alt:{type:String,reflectToAttribute:!0,value:"",notify:!0},placeholder:{type:String,value:""},editable:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},active:{type:Boolean,notify:!0,value:!1}},observers:["_importEditor(editable)","_updateEditorImage(active)","_updateEditableUi(editable)","_updateEditingUi(active)","_blurOnInactive(active)","_showPlaceholder(placeholder, editable, src)"],listeners:{tap:"_goActiveIfEditable",focusout:"_maintainFocusWhenActive",blur:"_maintainFocusWhenActive"},behaviors:[SimplaBehaviors.Element({type:"Image",dataProperties:["src","alt"],setCallback:"_updateSimpla"}),{observers:["_ensureIsBase64(src)"],created:function(){this.__staticSrc=this.getAttribute("src")},_ensureIsBase64:function(a){var b=this;this.__staticSrc&&this.__staticSrc===a&&!d(a)&&f(a)&&g(a).then(function(c){a===b.src&&(b.src=c)})}}],_updateEditableUi:function(a){this._toggleStyles(k.editable,a),a?this.setAttribute("tabindex",0):this.removeAttribute("tabindex")},_updateEditingUi:function(a){this._toggleStyles(k.active,a)},_showPlaceholder:function(c,d,e){var f;this.placeholder=this.placeholder||"url("+this.resolveUrl("placeholder.svg")+")",f=h({background:this.placeholder},k.placeholder),this._toggleStyles(f,d&&e===b)},_toggleStyles:function(a,b){var d=this,e=this.__styleCache=this.__styleCache||{};(function(a){return Object.keys(a).map(function(b){return[b,a[b]]})})(a).forEach(function(f){var g=j(f,2),h=g[0],a=g[1],i=e[h],k=d.style[h];b?e[h]=k:(e[h]="",a=i||""),d.style[h]=a})},_updateSimpla:function(){return this.src===b?null:{src:this.src,alt:this.alt}},_goActiveIfEditable:function(){this.editable&&(this.active=!0)},_maintainFocusWhenActive:function(a){var b=document.querySelector("simpla-img-editor");a.relatedTarget===b&&a.stopImmediatePropagation()},_blurOnInactive:function(a){a||(this.fire("focusout"),this.fire("blur",{},{bubbles:!1}))},_updateEditorImage:function(a){var b=document.querySelector("simpla-img-editor");b&&(b.image=a?this:null)},_importEditor:function(a){var b,c=!!document.querySelector("simpla-img-editor");a&&!c&&(this.importHref(this.resolveUrl("simpla-img-editor.html")),b=document.createElement("simpla-img-editor"),document.body.appendChild(b))}};Polymer(c)}();</script></dom-module></div>2<dom-module id="my-view1"><template><style include="shared-styles">:host{display:block;padding:10px;}</style><simpla-text path="/static"><p>Simpla-text is an editable richtext element for the <a href="https://www.simpla.io">Simpla</a> content system</p></simpla-text><div class="card"><div class="circle">1</div><h1>View One</h1><p>Ut labores minimum atomorum pro. Laudem tibique ut has.</p><p>Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea.Cu mei vide viris gloriatur, at populo eripuit sit.</p></div></template><script>class MyView1 extends Polymer.Element{static get is(){return'my-view1'}}Simpla.editable(!0),window.customElements.define(MyView1.is,MyView1);</script></dom-module></body></html>